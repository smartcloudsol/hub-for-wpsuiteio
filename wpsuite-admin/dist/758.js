"use strict";(globalThis.webpackChunk_smart_cloud_wpsuite_admin=globalThis.webpackChunk_smart_cloud_wpsuite_admin||[]).push([[758],{8758:(e,s,r)=>{r.d(s,{default:()=>x});var i=r(1609),t=r(8790);const n=(0,r(8728).A)("outline","refresh","Refresh",[["path",{d:"M20 11a8.1 8.1 0 0 0 -15.5 -2m-.5 -4v4h4",key:"svg-0"}],["path",{d:"M4 13a8.1 8.1 0 0 0 15.5 2m.5 4v-4h-4",key:"svg-1"}]]);var l=r(6427),d=r(7723),o=r(8948),c=r(790);const a=(0,o.gP)();function x(){const[e,s]=(0,i.useState)(null),[r,x]=(0,i.useState)(!0),[h,u]=(0,i.useState)(null),j=(0,t.useMediaQuery)(`(max-width: ${t.DEFAULT_THEME.breakpoints.sm})`),p=async()=>{try{x(!0),u(null);const e=await fetch(`${a.restUrl}/diagnostics`,{headers:{"X-WP-Nonce":a.nonce},credentials:"same-origin"});if(!e.ok)throw new Error(`HTTP ${e.status}`);const r=await e.json();s(r)}catch(e){u(e?.message||"Unknown error")}finally{x(!1)}};(0,i.useEffect)(()=>{p()},[]);const g=({ok:e})=>null===e?(0,c.jsx)(t.Badge,{children:"n/a"}):e?(0,c.jsx)(t.Badge,{color:"green",children:"OK"}):(0,c.jsx)(t.Badge,{color:"red",children:"Issue"});return(0,c.jsxs)(t.Stack,{p:"md",gap:"md",maw:1280,children:[(0,c.jsx)(l.__experimentalHeading,{level:1,style:{display:"flex",alignItems:"center",gap:"8px",color:"#218BE6"},children:(0,d.__)(j?"WPSuite.io HUB":"Central Hub for WPSuite.io Plugins",o.Xg)}),(0,c.jsxs)(t.Group,{justify:"space-between",children:[(0,c.jsx)(t.Text,{children:"Quick checks to confirm your environment meets the minimum requirements for WPSuite.io Plugins. Use the Refresh button to re-run the tests; results reflect the current runtime."}),(0,c.jsx)(t.Button,{leftSection:(0,c.jsx)(n,{size:16}),onClick:p,variant:"light",children:"Refresh"})]}),r&&(0,c.jsx)(t.Card,{withBorder:!0,radius:"lg",p:"lg",children:(0,c.jsxs)(t.Stack,{children:[(0,c.jsx)(t.Text,{children:"Loading diagnostics..."}),(0,c.jsx)(t.Skeleton,{height:12,radius:"xl"}),(0,c.jsx)(t.Skeleton,{height:12,radius:"xl"}),(0,c.jsx)(t.Skeleton,{height:12,radius:"xl"}),(0,c.jsx)(t.Skeleton,{height:12,radius:"xl"})]})}),!r&&h&&(0,c.jsx)(t.Card,{withBorder:!0,radius:"lg",p:"lg",children:(0,c.jsxs)(t.Text,{c:"red",children:["Failed to load diagnostics: ",h]})}),!r&&!h&&e&&(0,c.jsxs)(i.Fragment,{children:[(0,c.jsxs)(t.Card,{withBorder:!0,radius:"lg",p:"lg",children:[(0,c.jsx)(t.Text,{fw:600,mb:"xs",children:"Versions"}),(0,c.jsxs)(t.Group,{justify:"space-between",children:[(0,c.jsxs)(t.Stack,{gap:4,children:[(0,c.jsxs)(t.Text,{children:["WordPress: ",e.versions.wp.current," (required ≥"," ",e.versions.wp.required,")"]}),(0,c.jsx)(g,{ok:e.versions.wp.ok})]}),(0,c.jsxs)(t.Stack,{gap:4,children:[(0,c.jsxs)(t.Text,{children:["PHP: ",e.versions.php.current," (required ≥"," ",e.versions.php.required,")"]}),(0,c.jsx)(g,{ok:e.versions.php.ok})]})]})]}),(0,c.jsxs)(t.Card,{withBorder:!0,radius:"lg",p:"lg",children:[(0,c.jsx)(t.Text,{fw:600,mb:"xs",children:"Connectivity"}),(0,c.jsxs)(t.Stack,{gap:"xs",children:[(0,c.jsxs)(t.Group,{justify:"space-between",children:[(0,c.jsxs)(t.Text,{children:["REST API:"," ",(0,c.jsx)(t.Text,{span:!0,c:"dimmed",children:e.rest.url})]}),(0,c.jsx)(g,{ok:e.rest.ok})]}),e.rest.error&&(0,c.jsxs)(t.Text,{c:"red",children:["REST error: ",e.rest.error]}),(0,c.jsxs)(t.Group,{justify:"space-between",mt:"sm",children:[(0,c.jsxs)(t.Text,{children:["Loopback:"," ",(0,c.jsx)(t.Text,{span:!0,c:"dimmed",children:e.loopback.url})]}),(0,c.jsx)(g,{ok:e.loopback.ok})]}),e.loopback.error&&(0,c.jsxs)(t.Text,{c:"red",children:["Loopback error: ",e.loopback.error]})]})]}),(0,c.jsxs)(t.Card,{withBorder:!0,radius:"lg",p:"lg",children:[(0,c.jsx)(t.Text,{fw:600,mb:"xs",children:"Uploads"}),(0,c.jsxs)(t.Group,{justify:"space-between",children:[(0,c.jsxs)(t.Text,{children:["Directory:"," ",(0,c.jsx)(t.Text,{span:!0,c:"dimmed",children:e.uploads.basedir})]}),(0,c.jsx)(g,{ok:e.uploads.writable})]}),e.uploads.error&&(0,c.jsxs)(t.Text,{c:"red",children:["Uploads error: ",e.uploads.error]})]}),(0,c.jsxs)(t.Card,{withBorder:!0,radius:"lg",p:"lg",children:[(0,c.jsx)(t.Text,{fw:600,mb:"xs",children:"SSL & Site URL"}),(0,c.jsxs)(t.Group,{justify:"space-between",children:[(0,c.jsx)(t.Text,{children:"SSL enabled"}),(0,c.jsx)(g,{ok:e.ssl.enabled})]}),(0,c.jsx)(t.Text,{c:"dimmed",children:e.ssl.note}),(0,c.jsxs)(t.Text,{mt:"sm",children:["Site URL:"," ",(0,c.jsx)(t.Text,{span:!0,c:"dimmed",children:e.siteUrl})]})]})]})]})}}}]);