"use strict";(globalThis.webpackChunk_smart_cloud_wpsuite_admin=globalThis.webpackChunk_smart_cloud_wpsuite_admin||[]).push([[758],{8758:(e,s,r)=>{r.r(s),r.d(s,{default:()=>E});var i=r(1609),n=r(5304),l=r(3976),d=r(9019),t=r(4999),c=r(7826),o=r(5055),a=r(1179),h=r(4759),x=r(6945);const u=(0,r(8728).A)("outline","refresh","Refresh",[["path",{d:"M20 11a8.1 8.1 0 0 0 -15.5 -2m-.5 -4v4h4",key:"svg-0"}],["path",{d:"M4 13a8.1 8.1 0 0 0 15.5 2m.5 4v-4h-4",key:"svg-1"}]]);var j=r(6427),p=r(7723),m=r(3661),g=r(790);function E(){const[e,s]=(0,i.useState)(null),[r,E]=(0,i.useState)(!0),[w,k]=(0,i.useState)(null),b=(0,x.U)(`(max-width: ${n.S.breakpoints.sm})`),f=async()=>{try{E(!0),k(null);const e=await fetch(`${WpSuite.restUrl}/diagnostics`,{headers:{"X-WP-Nonce":WpSuite.nonce},credentials:"same-origin"});if(!e.ok)throw new Error(`HTTP ${e.status}`);const r=await e.json();s(r)}catch(e){k(e?.message||"Unknown error")}finally{E(!1)}};(0,i.useEffect)((()=>{f()}),[]);const S=({ok:e})=>null===e?(0,g.jsx)(l.E,{children:"n/a"}):e?(0,g.jsx)(l.E,{color:"green",children:"OK"}):(0,g.jsx)(l.E,{color:"red",children:"Issue"});return(0,g.jsxs)(d.B,{p:"md",gap:"md",maw:1280,children:[(0,g.jsx)(j.__experimentalHeading,{level:1,style:{display:"flex",alignItems:"center",gap:"8px",color:"#218BE6"},children:(0,p.__)(b?"WPSuite.io HUB":"Central Hub for WPSuite.io Plugins",m.TEXT_DOMAIN)}),(0,g.jsxs)(t.Y,{justify:"space-between",children:[(0,g.jsx)(c.E,{children:"Quick checks to confirm your environment meets the minimum requirements for WPSuite.io Plugins. Use the Refresh button to re-run the tests; results reflect the current runtime."}),(0,g.jsx)(o.$,{leftSection:(0,g.jsx)(u,{size:16}),onClick:f,variant:"light",children:"Refresh"})]}),r&&(0,g.jsx)(a.Z,{withBorder:!0,radius:"lg",p:"lg",children:(0,g.jsxs)(d.B,{children:[(0,g.jsx)(c.E,{children:"Loading diagnostics..."}),(0,g.jsx)(h.E,{height:12,radius:"xl"}),(0,g.jsx)(h.E,{height:12,radius:"xl"}),(0,g.jsx)(h.E,{height:12,radius:"xl"}),(0,g.jsx)(h.E,{height:12,radius:"xl"})]})}),!r&&w&&(0,g.jsx)(a.Z,{withBorder:!0,radius:"lg",p:"lg",children:(0,g.jsxs)(c.E,{c:"red",children:["Failed to load diagnostics: ",w]})}),!r&&!w&&e&&(0,g.jsxs)(i.Fragment,{children:[(0,g.jsxs)(a.Z,{withBorder:!0,radius:"lg",p:"lg",children:[(0,g.jsx)(c.E,{fw:600,mb:"xs",children:"Versions"}),(0,g.jsxs)(t.Y,{justify:"space-between",children:[(0,g.jsxs)(d.B,{gap:4,children:[(0,g.jsxs)(c.E,{children:["WordPress: ",e.versions.wp.current," (required ≥"," ",e.versions.wp.required,")"]}),(0,g.jsx)(S,{ok:e.versions.wp.ok})]}),(0,g.jsxs)(d.B,{gap:4,children:[(0,g.jsxs)(c.E,{children:["PHP: ",e.versions.php.current," (required ≥"," ",e.versions.php.required,")"]}),(0,g.jsx)(S,{ok:e.versions.php.ok})]})]})]}),(0,g.jsxs)(a.Z,{withBorder:!0,radius:"lg",p:"lg",children:[(0,g.jsx)(c.E,{fw:600,mb:"xs",children:"Connectivity"}),(0,g.jsxs)(d.B,{gap:"xs",children:[(0,g.jsxs)(t.Y,{justify:"space-between",children:[(0,g.jsxs)(c.E,{children:["REST API:"," ",(0,g.jsx)(c.E,{span:!0,c:"dimmed",children:e.rest.url})]}),(0,g.jsx)(S,{ok:e.rest.ok})]}),e.rest.error&&(0,g.jsxs)(c.E,{c:"red",children:["REST error: ",e.rest.error]}),(0,g.jsxs)(t.Y,{justify:"space-between",mt:"sm",children:[(0,g.jsxs)(c.E,{children:["Loopback:"," ",(0,g.jsx)(c.E,{span:!0,c:"dimmed",children:e.loopback.url})]}),(0,g.jsx)(S,{ok:e.loopback.ok})]}),e.loopback.error&&(0,g.jsxs)(c.E,{c:"red",children:["Loopback error: ",e.loopback.error]})]})]}),(0,g.jsxs)(a.Z,{withBorder:!0,radius:"lg",p:"lg",children:[(0,g.jsx)(c.E,{fw:600,mb:"xs",children:"Uploads"}),(0,g.jsxs)(t.Y,{justify:"space-between",children:[(0,g.jsxs)(c.E,{children:["Directory:"," ",(0,g.jsx)(c.E,{span:!0,c:"dimmed",children:e.uploads.basedir})]}),(0,g.jsx)(S,{ok:e.uploads.writable})]}),e.uploads.error&&(0,g.jsxs)(c.E,{c:"red",children:["Uploads error: ",e.uploads.error]})]}),(0,g.jsxs)(a.Z,{withBorder:!0,radius:"lg",p:"lg",children:[(0,g.jsx)(c.E,{fw:600,mb:"xs",children:"SSL & Site URL"}),(0,g.jsxs)(t.Y,{justify:"space-between",children:[(0,g.jsx)(c.E,{children:"SSL enabled"}),(0,g.jsx)(S,{ok:e.ssl.enabled})]}),(0,g.jsx)(c.E,{c:"dimmed",children:e.ssl.note}),(0,g.jsxs)(c.E,{mt:"sm",children:["Site URL:"," ",(0,g.jsx)(c.E,{span:!0,c:"dimmed",children:e.siteUrl})]})]})]})]})}}}]);