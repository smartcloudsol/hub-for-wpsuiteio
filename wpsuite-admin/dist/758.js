"use strict";(globalThis.webpackChunk_smart_cloud_wpsuite_admin=globalThis.webpackChunk_smart_cloud_wpsuite_admin||[]).push([[758],{8728:(e,r,s)=>{s.d(r,{A:()=>n});var t=s(1609),i={outline:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},filled:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",stroke:"none"}};const n=(e,r,s,n)=>{const l=(0,t.forwardRef)(({color:s="currentColor",size:l=24,stroke:o=2,title:d,className:c,children:a,...h},x)=>(0,t.createElement)("svg",{ref:x,...i[e],width:l,height:l,className:["tabler-icon",`tabler-icon-${r}`,c].join(" "),..."filled"===e?{fill:s}:{strokeWidth:o,stroke:s},...h},[d&&(0,t.createElement)("title",{key:"svg-title"},d),...n.map(([e,r])=>(0,t.createElement)(e,r)),...Array.isArray(a)?a:[a]]));return l.displayName=`${s}`,l}},8758:(e,r,s)=>{s.d(r,{default:()=>h});var t=s(1609),i=s(8790);const n=(0,s(8728).A)("outline","refresh","Refresh",[["path",{d:"M20 11a8.1 8.1 0 0 0 -15.5 -2m-.5 -4v4h4",key:"svg-0"}],["path",{d:"M4 13a8.1 8.1 0 0 0 15.5 2m.5 4v-4h-4",key:"svg-1"}]]);var l=s(6427),o=s(7723),d=s(8948),c=s(790);const a=(0,d.gP)();function h(){const[e,r]=(0,t.useState)(null),[s,h]=(0,t.useState)(!0),[x,u]=(0,t.useState)(null),j=(0,i.useMediaQuery)(`(max-width: ${i.DEFAULT_THEME.breakpoints.sm})`),p=async()=>{try{h(!0),u(null);const e=await fetch(`${a.restUrl}/diagnostics`,{headers:{"X-WP-Nonce":a.nonce},credentials:"same-origin"});if(!e.ok)throw new Error(`HTTP ${e.status}`);const s=await e.json();r(s)}catch(e){u(e?.message||"Unknown error")}finally{h(!1)}};(0,t.useEffect)(()=>{p()},[]);const g=({ok:e})=>null===e?(0,c.jsx)(i.Badge,{children:"n/a"}):e?(0,c.jsx)(i.Badge,{color:"green",children:"OK"}):(0,c.jsx)(i.Badge,{color:"red",children:"Issue"});return(0,c.jsxs)(i.Stack,{p:"md",gap:"md",maw:1280,children:[(0,c.jsx)(l.__experimentalHeading,{level:1,style:{display:"flex",alignItems:"center",gap:"8px",color:"#218BE6"},children:(0,o.__)(j?"WPSuite.io HUB":"Central Hub for WPSuite.io Plugins",d.Xg)}),(0,c.jsxs)(i.Group,{justify:"space-between",children:[(0,c.jsx)(i.Text,{children:"Quick checks to confirm your environment meets the minimum requirements for WPSuite.io Plugins. Use the Refresh button to re-run the tests; results reflect the current runtime."}),(0,c.jsx)(i.Button,{leftSection:(0,c.jsx)(n,{size:16}),onClick:p,variant:"light",children:"Refresh"})]}),s&&(0,c.jsx)(i.Card,{withBorder:!0,radius:"lg",p:"lg",children:(0,c.jsxs)(i.Stack,{children:[(0,c.jsx)(i.Text,{children:"Loading diagnostics..."}),(0,c.jsx)(i.Skeleton,{height:12,radius:"xl"}),(0,c.jsx)(i.Skeleton,{height:12,radius:"xl"}),(0,c.jsx)(i.Skeleton,{height:12,radius:"xl"}),(0,c.jsx)(i.Skeleton,{height:12,radius:"xl"})]})}),!s&&x&&(0,c.jsx)(i.Card,{withBorder:!0,radius:"lg",p:"lg",children:(0,c.jsxs)(i.Text,{c:"red",children:["Failed to load diagnostics: ",x]})}),!s&&!x&&e&&(0,c.jsxs)(t.Fragment,{children:[(0,c.jsxs)(i.Card,{withBorder:!0,radius:"lg",p:"lg",children:[(0,c.jsx)(i.Text,{fw:600,mb:"xs",children:"Versions"}),(0,c.jsxs)(i.Group,{justify:"space-between",children:[(0,c.jsxs)(i.Stack,{gap:4,children:[(0,c.jsxs)(i.Text,{children:["WordPress: ",e.versions.wp.current," (required ≥"," ",e.versions.wp.required,")"]}),(0,c.jsx)(g,{ok:e.versions.wp.ok})]}),(0,c.jsxs)(i.Stack,{gap:4,children:[(0,c.jsxs)(i.Text,{children:["PHP: ",e.versions.php.current," (required ≥"," ",e.versions.php.required,")"]}),(0,c.jsx)(g,{ok:e.versions.php.ok})]})]})]}),(0,c.jsxs)(i.Card,{withBorder:!0,radius:"lg",p:"lg",children:[(0,c.jsx)(i.Text,{fw:600,mb:"xs",children:"Connectivity"}),(0,c.jsxs)(i.Stack,{gap:"xs",children:[(0,c.jsxs)(i.Group,{justify:"space-between",children:[(0,c.jsxs)(i.Text,{children:["REST API:"," ",(0,c.jsx)(i.Text,{span:!0,c:"dimmed",children:e.rest.url})]}),(0,c.jsx)(g,{ok:e.rest.ok})]}),e.rest.error&&(0,c.jsxs)(i.Text,{c:"red",children:["REST error: ",e.rest.error]}),(0,c.jsxs)(i.Group,{justify:"space-between",mt:"sm",children:[(0,c.jsxs)(i.Text,{children:["Loopback:"," ",(0,c.jsx)(i.Text,{span:!0,c:"dimmed",children:e.loopback.url})]}),(0,c.jsx)(g,{ok:e.loopback.ok})]}),e.loopback.error&&(0,c.jsxs)(i.Text,{c:"red",children:["Loopback error: ",e.loopback.error]})]})]}),(0,c.jsxs)(i.Card,{withBorder:!0,radius:"lg",p:"lg",children:[(0,c.jsx)(i.Text,{fw:600,mb:"xs",children:"Uploads"}),(0,c.jsxs)(i.Group,{justify:"space-between",children:[(0,c.jsxs)(i.Text,{children:["Directory:"," ",(0,c.jsx)(i.Text,{span:!0,c:"dimmed",children:e.uploads.basedir})]}),(0,c.jsx)(g,{ok:e.uploads.writable})]}),e.uploads.error&&(0,c.jsxs)(i.Text,{c:"red",children:["Uploads error: ",e.uploads.error]})]}),(0,c.jsxs)(i.Card,{withBorder:!0,radius:"lg",p:"lg",children:[(0,c.jsx)(i.Text,{fw:600,mb:"xs",children:"SSL & Site URL"}),(0,c.jsxs)(i.Group,{justify:"space-between",children:[(0,c.jsx)(i.Text,{children:"SSL enabled"}),(0,c.jsx)(g,{ok:e.ssl.enabled})]}),(0,c.jsx)(i.Text,{c:"dimmed",children:e.ssl.note}),(0,c.jsxs)(i.Text,{mt:"sm",children:["Site URL:"," ",(0,c.jsx)(i.Text,{span:!0,c:"dimmed",children:e.siteUrl})]})]})]})]})}}}]);