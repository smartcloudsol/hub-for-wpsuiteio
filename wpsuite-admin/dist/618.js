"use strict";(globalThis.webpackChunk_smart_cloud_wpsuite_admin=globalThis.webpackChunk_smart_cloud_wpsuite_admin||[]).push([[618],{5618:(e,s,n)=>{n.r(s),n.d(s,{default:()=>Te});var t=n(1609),i=n(7286),a=n(9095),o=n(6886),r=n(548),c=n(7016),l=n(6427),d=n(7723),u=n(5304),h=n(9019),m=n(7826),p=n(6945),x=n(3661),g=(n(1880),n(4759)),j=n(4285),b=n(8438),y=n(6496),f=n(5841),w=n(8149),v=n(6193),E=n(8693),S=n(5055),I=n(4999),k=n(1365),C=n(54),P=n(9652),A=n(4956),T=n(1179),_=n(2287),N=n(8324),z=n(132),D=n(9674),F=n(3976),W=n(3073),O=n(8087),Y=n(460),$=n(6995),B=n(7193),K=n(4039),M=n(905),q=n(5362),R=n(4577),L=n(8335),X=n(9543),U=n(9329),Q=n(988),J=n(8649),G=n(4193),V=n(6705),Z=n(7641),H=n(7693),ee=n(6118),se=n(8365),ne=n(7167),te=n(5421),ie=n(4225),ae=n(9096),oe=n(2200),re=n(2898),ce=n(6319),le=n(9232),de=n(2368),ue=n(2449),he=n(9637),me=n(4067),pe=n(899),xe=n(7665),ge=n(7097),je=n(6475),be=n(7909),ye=n(790);function fe(){return(0,ye.jsxs)(I.Y,{gap:"xs",children:[(0,ye.jsx)(g.E,{height:24,circle:!0}),(0,ye.jsx)(we,{}),(0,ye.jsx)(g.E,{height:48,width:300})]})}function we(){return(0,ye.jsxs)(h.B,{gap:"8px",children:[(0,ye.jsx)(g.E,{height:8,width:100,radius:"xl"}),(0,ye.jsx)(g.E,{height:8,width:100,radius:"xl"})]})}const ve={info:"Tj85cyFPmCb5IuH3PLzT",item:"u_y0mHJV5dJDeaup7AnQ",warning:"mgJMlWizrI_1zV6gKDww",radioCard:"_tg59NZLBI4ufk2D9_x4",dropdown:"Dpk9BMBojJjovE83ymYi"},Ee=e=>{const{amplifyConfigured:s,apiUrl:n,ownedAccountId:a,accountId:o,siteId:r,siteKey:l,nonce:O,setAccountId:Y,setSiteId:$,setSiteKey:B}=e,[K,M]=(0,t.useState)(),[q,R]=(0,t.useState)(),[U,Q]=(0,t.useState)(),[G,ue]=(0,t.useState)(),[he,me]=(0,t.useState)(),[pe,je]=(0,t.useState)(),[be,Ee]=(0,t.useState)(),[Se,Ie]=(0,t.useState)(),{authStatus:Ce,toSignIn:Pe,signOut:Ae}=(0,y.A)((e=>[e.user,e.authStatus,e.route])),Te=(0,p.U)(`(max-width: ${u.S.breakpoints.sm})`),{width:_e}=(0,J.l)(),Ne=Math.min(300,_e-parseInt((0,w.D)(32))),ze=(0,v.e)(["connect-your-site","prices"]),De=(0,xe.jE)(),Fe=!(!o||!r||"authenticated"!==Ce&&!l),We=(0,ge.n)({mutationFn:({site:e,action:s})=>(Q(s),(0,j.F6)({apiName:"backend",path:"/account/"+e.accountId+"/site/"+e.siteId,options:{queryParams:{action:s}}}).response.then((e=>e.body.json())).then((e=>(X.$e.show({title:(0,d.__)("Subscription changed",x.TEXT_DOMAIN),message:(0,d.__)("Subscription changed successfully.",x.TEXT_DOMAIN),color:"green",icon:(0,ye.jsx)(V.A,{}),className:ve.notification}),e))).catch((e=>{console.error("Error:",e.message),X.$e.show({title:(0,d.__)("Error occured",x.TEXT_DOMAIN),message:e.message,color:"red",icon:(0,ye.jsx)(Z.A,{}),className:ve.notification}),me(null)})).finally((()=>{Q(void 0)}))),onSuccess:()=>{De.invalidateQueries({queryKey:["site",o,r]})}}),Oe=(0,t.useCallback)((async()=>{G?(0,j.Jt)({apiName:"backend",path:`/account/${o}/billing-auth-session`}).response.then((e=>e.body.json())).then((e=>{me(e.token)})).catch((e=>{console.error("Error:",e.message),me(null)})):me(null),ze.open("prices")}),[o,G,ze]),Ye=(0,t.useCallback)((async e=>{if(!be||q)return;R(null!=e?e:"manage");const s={next_url:window.location.href,subscription_id:be.id};e&&(s.type=e),await(0,j.Jt)({apiName:"backend",path:`/account/${o}/billing-portal-session`,options:{queryParams:s}}).response.then((e=>e.body.json())).then((e=>{const s=e.url;window.location.assign(s)})).catch((e=>{console.error("Error:",e.message),R(void 0)}))}),[o,q,be]),$e=(0,t.useCallback)(((e,s)=>{var n,t,i;let a="Confirm",o=(0,ye.jsx)(ye.Fragment,{});switch(s){case"cancel":a="Yes, Cancel",o=(0,ye.jsxs)(ye.Fragment,{children:[(0,ye.jsx)(f.D,{level:3,marginBottom:"var(--mantine-spacing-md)",children:"Cancel Subscription"}),(0,ye.jsxs)(m.E,{mb:"sm",children:["Your subscription will be canceled, but is still available until the end of your billing period on"," ",(0,ye.jsx)("strong",{children:new Date(1e3*(null!==(n=e.subscription?.currentPeriodEnd)&&void 0!==n?n:0))?.toLocaleString("en")}),". If you change your mind, you can renew your subscription."]}),(0,ye.jsx)(m.E,{fw:500,children:"Are you sure you want to cancel your subscription?"})]});break;case"cancel_schedule":a="Yes, Cancel",o=(0,ye.jsxs)(ye.Fragment,{children:[(0,ye.jsx)(f.D,{level:3,marginBottom:"var(--mantine-spacing-md)",children:"Cancel Scheduled Change"}),(0,ye.jsxs)(m.E,{mb:"sm",children:["If canceled, your subscription will continue with the original terms after"," ",(0,ye.jsx)("strong",{children:new Date(1e3*(null!==(t=e.subscription?.currentPeriodEnd)&&void 0!==t?t:0))?.toLocaleString("en")}),"."]}),(0,ye.jsx)(m.E,{fw:500,children:"Are you sure you want to cancel the scheduled change to your subscription?"})]});break;case"renew":a="Yes, Renew",o=(0,ye.jsxs)(ye.Fragment,{children:[(0,ye.jsx)(f.D,{level:3,marginBottom:"var(--mantine-spacing-md)",children:"Renew Subscription"}),(0,ye.jsxs)(m.E,{size:"sm",children:["This subscription will no longer be canceled. It will renew on"," ",new Date(1e3*(null!==(i=e.subscription?.currentPeriodEnd)&&void 0!==i?i:0))?.toLocaleString("en"),"."]})]})}L.jQ.openConfirmModal({children:o,labels:{confirm:a,cancel:"No"},confirmProps:{className:ve["console-button"]},cancelProps:{variant:"outline",className:ve["console-button-outline"]},withCloseButton:!1,onConfirm:()=>We.mutate({site:e,action:s}),zIndex:1e5,xOffset:"1dvh",yOffset:"1dvh",centered:!0})}),[We]),{data:Be,isError:Ke}=(0,i.I)({queryKey:["account",o],queryFn:()=>async function(e){const s=await(0,j.Jt)({apiName:"backend",path:`/account/${e}`}).response;return await s.body.json()}(o),enabled:!!o&&"authenticated"===Ce}),{data:Me,isError:qe,isPending:Re}=(0,i.I)({queryKey:["site",o,r],queryFn:()=>async function(e,s,n){const t={apiName:"backend",path:`/account/${e}/site/${s}${n?"/settings":""}`,options:{headers:{}}};n&&(t.options.headers["X-Site-Key"]=n);const i=await(0,j.Jt)(t).response;return await i.body.json()}(o,r,l),enabled:Fe}),Le=(0,t.useCallback)((async e=>{const s=e?e.subscriber:!!Se;return fetch(WpSuite.restUrl+"/update-site-settings",{method:"POST",headers:{"Content-Type":"application/json","X-WP-Nonce":O},body:JSON.stringify({accountId:e?e.accountId:o,siteId:e?e.siteId:r,siteKey:e?e.siteKey:l,lastUpdate:(new Date).getTime(),subscriber:s}),credentials:"same-origin"}).finally((()=>{e&&o!==e.accountId&&r!==e.siteId&&(je(null),e.accountId||Ie(null),Y(e.accountId),$(e.siteId),B(e.siteKey))}))}),[o,O,Y,$,B,r,l,Se]),Xe=(0,ge.n)({mutationFn:e=>Le(e),onSuccess:async e=>{if(e.ok)X.$e.show({title:(0,d.__)("Settings saved",x.TEXT_DOMAIN),message:(0,d.__)("Site settings saved successfully",x.TEXT_DOMAIN),color:"green",icon:(0,ye.jsx)(H.A,{}),className:ve.notification});else{const s=await e.json();console.error("Failed to connect site",s),X.$e.show({title:(0,d.__)("Error occured",x.TEXT_DOMAIN),message:s.message,color:"red",icon:(0,ye.jsx)(Z.A,{}),className:ve.notification})}ze.close("connect-your-site")},onError:e=>{X.$e.show({title:(0,d.__)("Error occured",x.TEXT_DOMAIN),message:e.message,color:"red",icon:(0,ye.jsx)(Z.A,{}),className:ve.notification})}}),Ue=(0,t.useCallback)((()=>(0,ye.jsxs)(E.W,{shadow:"md",width:220,children:[(0,ye.jsx)(E.W.Target,{children:(0,ye.jsx)(S.$,{variant:"subtle",ml:"xs",leftSection:(0,ye.jsx)(ee.A,{size:16}),children:"Settings"})}),(0,ye.jsxs)(E.W.Dropdown,{children:[(0,ye.jsx)(E.W.Label,{children:"Site"}),o&&r&&(pe||qe)?(0,ye.jsxs)(ye.Fragment,{children:[(0,ye.jsx)(E.W.Item,{leftSection:(0,ye.jsx)(se.A,{size:16}),onClick:()=>ze.open("connect-your-site"),children:"Reconnect"}),(0,ye.jsx)(E.W.Item,{leftSection:(0,ye.jsx)(ne.A,{size:16}),onClick:()=>L.jQ.openConfirmModal({children:(0,ye.jsxs)(ye.Fragment,{children:[(0,ye.jsx)(f.D,{level:3,marginBottom:"var(--mantine-spacing-md)",children:"Disconnect This Site"}),(0,ye.jsx)(m.E,{mb:"sm",children:"Disconnecting this site will immediately remove all Pro settings â€“ including API Settings and Form-Field customizations â€“ from WordPress."}),(0,ye.jsx)(m.E,{mb:"sm",children:"Any active subscription tied to this site will keep billing but won't deliver benefits until you reconnect."}),(0,ye.jsx)(m.E,{mb:"sm",children:"If you later reconnect this same site, its previous settings will be restored; linking a different site will start with default settings."}),(0,ye.jsx)(m.E,{fw:500,children:"Are you sure you want to disconnect this site from WP Suite?"})]}),labels:{confirm:"Yes, Disconnect",cancel:"No"},confirmProps:{className:ve["console-button"]},cancelProps:{variant:"outline",className:ve["console-button-outline"]},withCloseButton:!1,onConfirm:()=>Le({}),zIndex:1e5,xOffset:"1dvh",yOffset:"1dvh",centered:!0}),children:"Disconnect"}),(0,ye.jsx)(E.W.Item,{leftSection:(0,ye.jsx)(te.A,{size:16}),onClick:async()=>{try{const e=await Le();if(e.ok)X.$e.show({title:(0,d.__)("Cache cleared",x.TEXT_DOMAIN),message:(0,d.__)("Front-end site configuration cleared successfully.",x.TEXT_DOMAIN),color:"green",icon:(0,ye.jsx)(ie.A,{}),className:ve.notification});else{const s=await e.json();console.error("Failed to submit data",s),X.$e.show({title:(0,d.__)("Error occured",x.TEXT_DOMAIN),message:s.message,color:"red",icon:(0,ye.jsx)(Z.A,{}),className:ve.notification})}}catch(e){X.$e.show({title:(0,d.__)("Error occured",x.TEXT_DOMAIN),message:e.message,color:"red",icon:(0,ye.jsx)(Z.A,{}),className:ve.notification})}},children:"Clear Cache"}),"authenticated"===Ce&&a===o&&(0,ye.jsxs)(ye.Fragment,{children:[(0,ye.jsx)(E.W.Divider,{}),(0,ye.jsx)(E.W.Label,{children:"Subscription"}),null===Se&&(0,ye.jsx)(E.W.Item,{leftSection:(0,ye.jsx)(ae.A,{size:16}),onClick:()=>Oe(),children:"Plans & Pricing"}),pe&&null!==Se&&be&&!Ke&&(0,ye.jsxs)(ye.Fragment,{children:[(0,ye.jsx)(E.W.Item,{leftSection:(0,ye.jsx)(ae.A,{size:16}),disabled:!!q||!!U,onClick:()=>Ye(),children:"Manage Billing"}),(0,ye.jsx)(E.W.Item,{leftSection:(0,ye.jsx)(oe.A,{size:16}),disabled:!!q||!!U,onClick:()=>Ye("update"),children:"Update"}),(be.cancelAtPeriodEnd||be.nextSubscriptionType&&be.nextSubscriptionType!==Se)&&(0,ye.jsx)(E.W.Item,{leftSection:(0,ye.jsx)(re.A,{size:16}),disabled:!!q||!!U,onClick:()=>$e(pe,be.cancelAtPeriodEnd?"renew":"cancel_schedule"),children:be.cancelAtPeriodEnd?"Renew":"Cancel Scheduled Update"}),!be.cancelAtPeriodEnd&&(0,ye.jsx)(E.W.Item,{leftSection:(0,ye.jsx)(ce.A,{size:16}),disabled:!!q||!!U,onClick:()=>$e(pe,"cancel"),children:"Cancel"})]})]})]}):(0,ye.jsx)(E.W.Item,{leftSection:(0,ye.jsx)(se.A,{size:16}),onClick:()=>ze.open("connect-your-site"),children:"Connect"})]})]})),[o,Ce,Le,q,Ke,qe,U,Ye,$e,Oe,a,pe,r,ze,be,Se]);return(0,t.useEffect)((()=>{"authenticated"===Ce&&(0,b.T)().then((e=>M(e?.email)))}),[n,Ce]),(0,t.useEffect)((()=>{Be?(me(void 0),ue(Be.customer?Be?.customerId:null)):"authenticated"!==Ce||o&&!Ke||(me(void 0),ue(null))}),[Be,o,Ce,Ke]),(0,t.useEffect)((()=>{var e;pe?(Ie(null!==(e=pe.subscriptionType)&&void 0!==e?e:null),Ee(pe.subscription)):(o&&r?(0,x.getConfig)("wpsuite").then((e=>e&&e.subscriptionType?Ie(e.subscriptionType):Ie(null))):Ie(null),(!o&&!r||Ke||qe)&&Ee(null))}),[o,Ce,Ke,qe,pe,r]),(0,t.useEffect)((()=>{"authenticated"!==Ce&&"unauthenticated"!==Ce||(De.invalidateQueries({queryKey:["accounts"]}),De.invalidateQueries({queryKey:["sites",o]}),De.invalidateQueries({queryKey:["site",o,r]}))}),[o,s,Ce,De,r]),(0,t.useEffect)((()=>{"authenticated"!==Ce&&(ue(null),me(void 0))}),[Ce]),(0,t.useEffect)((()=>{!qe&&Re&&Fe||je(qe?null:null!=Me?Me:null)}),[Me,Fe,Re,qe]),(0,ye.jsxs)(I.Y,{justify:"space-between",align:"stretch",w:"100%",wrap:"nowrap",style:{flexDirection:Te?"column-reverse":"row-reverse"},children:[(0,ye.jsxs)(k.a.Stack,{children:[(0,ye.jsx)(k.a,{...ze.register("connect-your-site"),withCloseButton:!0,size:400,centered:!0,zIndex:1e5,title:(0,ye.jsx)(m.E,{size:"lg",fw:700,children:"Connect Your Site"}),children:(0,ye.jsx)(c.k,{loginMechanisms:["email"],signUpAttributes:["email","family_name","given_name"],formFields:{signUp:{"custom:acknowledgement":{isRequired:!0,label:'By creating an account, you agree to our <a href="https://wpsuite.io/privacy-policy" target="_blank" rel="noopener noreferrer" class="dark-link">Privacy Policy</a> and <a href="https://wpsuite.io/terms-of-use" target="_blank" rel="noopener noreferrer" class="dark-link">Terms of Use</a>, including the binding arbitration clause and class action waiver in Section 9.2.',type:"checkbox"}}},children:(0,ye.jsx)(ke,{authStatus:Ce,accountId:null!=a?a:o,siteId:r,siteKey:l,subscriber:!!Se,onClose:()=>ze.close("connect-your-site"),onConnect:e=>new Promise((s=>{Xe.mutate(e,{onSettled:()=>s()})}))})})}),(0,ye.jsx)(k.a,{...ze.register("prices"),withCloseButton:!0,size:"xl",zIndex:1e5,centered:!0,title:(0,ye.jsx)(m.E,{size:"lg",fw:700,children:"Plans and Pricing"}),children:void 0!==he&&void 0!==K&&o&&r&&(0,ye.jsx)(I.Y,{justify:"center",mt:20,children:(0,ye.jsxs)(h.B,{w:"100%",gap:20,children:[(0,ye.jsx)(m.E,{children:"Choose the plan that fits your WordPress site!"}),(0,ye.jsxs)(m.E,{size:"sm",children:["Start free with WP Suite core features. Upgrade to Pro to unlock advanced customization, integrations, and premium support across all WP Suite plugins."," ",(0,ye.jsx)("a",{className:"dark-link",href:"/pricing/",children:"Pricing"})," ","page."]}),he?(0,ye.jsx)("stripe-pricing-table",{"pricing-table-id":e.pricingTable,"publishable-key":e.stripePublicKey,"client-reference-id":o+"-"+r,"customer-session-client-secret":he}):(0,ye.jsx)("stripe-pricing-table",{"pricing-table-id":e.pricingTable,"publishable-key":e.stripePublicKey,"client-reference-id":o+"-"+r,"customer-email":K}),(0,ye.jsx)(I.Y,{align:"center",className:ve.info,children:(0,ye.jsxs)(C.s,{align:"start",direction:"column",className:ve.text,gap:{base:10,sm:0},children:[(0,ye.jsx)(P.h,{order:5,children:"Additional Information"}),(0,ye.jsx)(A.B,{spacing:"xs",size:"xs",children:(0,ye.jsx)(A.B.Item,{className:ve.item,children:"All prices are net amounts. Applicable taxes (e.g., VAT, Sales Tax) may be added depending on your location and circumstances."})})]})})]})})})]}),"configuring"===Ce&&(0,ye.jsx)(fe,{}),"unauthenticated"===Ce&&(0,ye.jsxs)(T.Z,{p:"sm",withBorder:!0,w:{base:"100%",sm:"40%"},maw:{base:"100%",sm:300},children:[(0,ye.jsx)(I.Y,{style:{borderBottom:"1px solid #e0e0e0"},mb:"md",children:(0,ye.jsx)(m.E,{fw:500,children:"Account Information"})}),(0,ye.jsxs)(I.Y,{gap:"xs",style:{justifyContent:"space-between"},children:[(0,ye.jsxs)(I.Y,{gap:"xs",children:[(0,ye.jsx)(le.A,{size:16}),(0,ye.jsx)(m.E,{size:"sm",children:"You are not signed in."})]}),(0,ye.jsxs)(S.$,{variant:o&&r?"outline":"gradient",leftSection:(0,ye.jsx)(de.A,{size:16}),onClick:()=>{Pe(),ze.open("connect-your-site")},disabled:!s,children:["Sign In ",o&&r?"to Reconnect":"and Connect"," ","Your Site"]}),!s&&(0,ye.jsxs)(_.j,{children:[(0,ye.jsx)(_.j.Target,{children:(0,ye.jsx)(N.M,{variant:"subtle",size:"xs",children:(0,ye.jsx)(Z.A,{size:16,color:"red"})})}),(0,ye.jsx)(_.j.Dropdown,{maw:300,style:{zIndex:1e5},children:(0,ye.jsxs)(m.E,{size:"sm",children:["ðŸ›‘ ",(0,ye.jsx)("strong",{children:"Heads-up"}),": Configuration is temporarily unavailable. Please try again later â€” no action is needed on your side."]})})]})]})]}),"authenticated"===Ce&&(0,ye.jsxs)(T.Z,{p:"sm",withBorder:!0,w:{base:"100%",sm:"40%"},maw:{base:"100%",sm:300},children:[(0,ye.jsx)(I.Y,{style:{borderBottom:"1px solid #e0e0e0"},mb:"md",children:(0,ye.jsx)(m.E,{fw:500,children:"Account Information"})}),null!=Se&&!be&&(Ke&&(0,ye.jsx)(z.F,{color:"red",title:"Notice â€“ Limited functionality due to network error",icon:(0,ye.jsx)(Z.A,{}),w:"100%",children:(0,ye.jsx)(m.E,{size:"sm",mb:"xs",children:"Youâ€™re logged in to WordPress as an admin, but configuration and PRO features are currently unavailable. Please try again later â€” no action is needed on your side."})})||(!Re&&!r||qe)&&(0,ye.jsx)(z.F,{color:"red",title:"Access denied â€“ You donâ€™t have access to this siteâ€™s PRO configuration",icon:(0,ye.jsx)(Z.A,{}),w:"100%",children:(0,ye.jsx)(m.E,{size:"sm",mb:"xs",children:"Youâ€™re logged in to WordPress as an admin, but the Gatey account you used isnâ€™t on the allowed members list for this connected site."})})),(0,ye.jsxs)(I.Y,{gap:"xs",style:{justifyContent:"space-between"},children:[!K&&(0,ye.jsxs)(ye.Fragment,{children:[(0,ye.jsx)(g.E,{height:24,circle:!0}),(0,ye.jsx)(we,{})]}),K&&(0,ye.jsxs)(C.s,{gap:"xs",p:"sm",align:"center",children:[(0,ye.jsx)(le.A,{size:16}),(0,ye.jsx)(m.E,{size:"sm",children:K})]}),(0,ye.jsx)(S.$,{variant:"outline",onClick:Ae,leftSection:(0,ye.jsx)(ne.A,{size:16}),children:"Sign Out"})]})]}),(0,ye.jsxs)(T.Z,{p:"sm",withBorder:!0,w:{base:"100%",sm:"auto"},style:{flexGrow:1},children:[(0,ye.jsx)(I.Y,{style:{borderBottom:"1px solid #e0e0e0"},mb:"md",children:(0,ye.jsx)(m.E,{fw:500,children:"Site Details"})}),(0,ye.jsxs)(D.x,{align:"center",style:{justifyContent:"space-between"},children:[(0,ye.jsxs)(D.x.Col,{span:{base:12,sm:2},children:["Status"," ",Te&&(0,ye.jsx)(g.E,{display:"inline-grid",w:"fit-content",visible:void 0===pe&&Re,children:o&&r&&!Ke&&!qe?(0,ye.jsx)(F.E,{color:"green",miw:100,children:"Connected"}):(0,ye.jsx)(F.E,{color:"grey",miw:120,children:o&&r&&!pe?"Connected (unreachable)":"Not connected"})})]}),(0,ye.jsx)(D.x.Col,{span:{base:12,sm:10},children:(0,ye.jsxs)(C.s,{direction:{base:"column",sm:"row"},gap:"sm",align:"center",children:[!Te&&(0,ye.jsx)(g.E,{display:"inline-grid",w:"fit-content",visible:void 0===pe&&Re,children:o&&r&&!Ke&&!qe?(0,ye.jsx)(F.E,{color:"green",miw:100,children:"Connected"}):(0,ye.jsx)(F.E,{color:"grey",miw:120,children:o&&r&&!pe?"Connected (unreachable)":"Not connected"})}),pe&&(0,ye.jsx)(g.E,{w:"100%",visible:void 0===pe&&Re,children:(0,ye.jsx)(C.s,{bg:"gray.0",align:"center",p:"sm",style:{borderRadius:6},children:pe&&(0,ye.jsx)(ye.Fragment,{children:(0,ye.jsxs)(h.B,{gap:2,style:{flexGrow:1},children:[(0,ye.jsxs)(m.E,{size:"sm",fw:500,component:"div",children:["Site: ",pe.name," (id: ",pe.siteId,")",null!=Se&&(0,ye.jsxs)(_.j,{shadow:"md",width:Te?Ne:300,position:"bottom-start",offset:8,withArrow:!0,styles:Te?{dropdown:{left:"20px"}}:{},children:[(0,ye.jsx)(_.j.Target,{children:(0,ye.jsx)(N.M,{variant:"subtle",size:"xs",className:ve["info-icon"],children:(0,ye.jsx)(H.A,{size:16})})}),(0,ye.jsxs)(_.j.Dropdown,{style:{maxWidth:"calc(100vw - 2rem)"},children:[(0,ye.jsx)(f.D,{level:4,marginBottom:"xs",children:"License Refresh"}),(0,ye.jsxs)(m.E,{size:"sm",mb:"sm",children:["Send a"," ",(0,ye.jsx)(m.E,{component:"span",fw:700,children:"GET"})," ","request to the URL below, including theÂ ",(0,ye.jsx)(W.C,{mx:"xs",children:"X-Site-Key"})," header."]}),(0,ye.jsxs)(m.E,{size:"sm",mb:"sm",children:["The server returns a JSON object; the value of its ",(0,ye.jsx)(W.C,{children:"jws"})," property is the license content."]}),(0,ye.jsxs)(m.E,{size:"sm",mb:"sm",children:["Save that value as ",(0,ye.jsx)(W.C,{children:"lic.jws"})," in your siteâ€™sÂ ",(0,ye.jsx)(W.C,{children:"/wp-content/uploads/hub-for-wpsuiteio/"})," ","directory."]}),(0,ye.jsxs)(m.E,{size:"sm",mb:"sm",children:[(0,ye.jsx)(m.E,{fw:600,component:"span",children:"Note:"})," ","the license file is valid for"," ",(0,ye.jsx)("b",{children:"oneÂ month"}),". On"," ",(0,ye.jsx)("b",{children:"staticÂ sites"}),", automate a refresh at least ",(0,ye.jsx)("b",{children:"once a week"}),". On"," ",(0,ye.jsx)("b",{children:"WordPress"})," sites, the Gatey plugin refreshes it automaticallyâ€”no manual action needed."]})," ",(0,ye.jsxs)(m.E,{size:"sm",children:[(0,ye.jsx)(m.E,{fw:600,component:"span",children:"URL:"})," ",(0,ye.jsx)(W.C,{children:(0,ye.jsx)("strong",{children:(0,ye.jsx)("a",{href:"#",target:"_blank",rel:"noopener noreferrer",className:"dark-link",style:{textDecoration:"none"},onClick:e=>(e.preventDefault(),e.stopPropagation(),jQuery("#gatey-license-url-"+pe.siteId).trigger("select"),navigator.clipboard.writeText(n+"/account/"+pe.accountId+"/site/"+pe.siteId+"/license"),X.$e.show({title:"License URL copied",message:"License URL copied successfully.",color:"green",icon:(0,ye.jsx)(H.A,{}),className:ve.notification}),!1),children:(0,ye.jsx)("span",{id:"gatey-license-url-"+pe.siteId,children:"copy"})})})}),(0,ye.jsx)("br",{}),(0,ye.jsx)(m.E,{fw:600,component:"span",children:"X-Site-Key:"})," ",(0,ye.jsx)(W.C,{children:(0,ye.jsx)("strong",{children:(0,ye.jsx)("a",{href:"#",target:"_blank",rel:"noopener noreferrer",className:"dark-link",style:{textDecoration:"none"},onClick:e=>{var s;return e.preventDefault(),e.stopPropagation(),jQuery("#gatey-site-key-"+pe.siteId).trigger("select"),navigator.clipboard.writeText(null!==(s=pe.siteKey)&&void 0!==s?s:""),X.$e.show({title:"Site key copied",message:"Site key copied successfully.",color:"green",icon:(0,ye.jsx)(H.A,{}),className:ve.notification}),!1},children:(0,ye.jsx)("span",{id:"gatey-site-key-"+pe.siteId,children:"copy"})})})})]})]})]})]}),pe.account&&(0,ye.jsx)(ye.Fragment,{children:(0,ye.jsxs)(m.E,{size:"xs",c:"dimmed",component:"div",children:["Workspace: ",pe.account.name," (id:"," ",pe.account.accountId,", owner:"," ",(0,ye.jsx)("a",{className:"dark-link",href:`mailto:${pe.account.ownerEmail}`,target:"_blank",rel:"noopener noreferrer",children:pe.account.ownerEmail}),")"]})})]})})})})]})}),(0,ye.jsxs)(D.x.Col,{span:{base:12,sm:2},children:["Subscription"," ",Te&&(0,ye.jsxs)(ye.Fragment,{children:[(0,ye.jsxs)(g.E,{display:"inline-grid",w:"fit-content",visible:void 0===Se,children:[null===Se&&(0,ye.jsx)(F.E,{color:"grey",miw:45,children:"FREE"}),"PROFESSIONAL"===Se&&(0,ye.jsx)(F.E,{color:"red",miw:35,children:"PRO"})]}),Ue()]})]}),(0,ye.jsx)(D.x.Col,{span:{base:12,sm:10},children:(0,ye.jsxs)(C.s,{direction:{base:"column",sm:"row"},gap:"sm",align:"center",children:[" ",!Te&&(0,ye.jsxs)(g.E,{display:"inline-grid",w:"fit-content",visible:void 0===Se,children:[null===Se&&(0,ye.jsx)(F.E,{color:"grey",miw:45,children:"FREE"}),"PROFESSIONAL"===Se&&(0,ye.jsx)(F.E,{color:"red",miw:35,children:"PRO"})]}),!!Se&&(0,ye.jsx)(I.Y,{gap:"xs",style:{justifyContent:"space-between"},children:(0,ye.jsx)(g.E,{w:"100%",visible:void 0===Se||null!==Se&&!be&&Re,children:(0,ye.jsx)(C.s,{bg:"gray.0",p:"sm",align:"center",style:{borderRadius:6,flexGrow:1},children:null!==Se&&(0,ye.jsx)(h.B,{gap:2,children:(0,ye.jsxs)(m.E,{size:"sm",fw:500,component:"div",children:[be?be?.active?"Subscription active":"Subscription inactive":"Subscription inaccessible",be&&be.active&&be.cancelAtPeriodEnd&&(0,ye.jsxs)(ye.Fragment,{children:[" ","â€” expires on"," ",(0,ye.jsx)("strong",{children:new Date(1e3*be.currentPeriodEnd).toLocaleDateString()})]}),be&&be.active&&!be.cancelAtPeriodEnd&&(0,ye.jsxs)(ye.Fragment,{children:[" ","â€” renews automatically"," ",be.nextSubscriptionType&&Se!==be.nextSubscriptionType&&(0,ye.jsxs)(ye.Fragment,{children:["as a"," ",(0,ye.jsx)("strong",{children:be.nextSubscriptionType})," ","subscription"," "]}),"on"," ",(0,ye.jsx)("strong",{children:new Date(1e3*be.currentPeriodEnd).toLocaleDateString()})]})]})})})})}),!Te&&Ue()]})})]})]})]})};function Se(){return(0,ye.jsxs)(ye.Fragment,{children:[(0,ye.jsx)(g.E,{w:{base:"100%",xs:350},height:80,mb:"md"}),(0,ye.jsx)(g.E,{w:{base:"100%",xs:350},height:80,mb:"md"}),(0,ye.jsx)(g.E,{w:{base:"100%",xs:350},height:80,mb:"md"})]})}const Ie=be.Ikc({siteId:be.YjP().optional(),name:be.YjP(),domain:be.YjP(),subscriptionType:be.YjP().optional()});function ke({authStatus:e,accountId:s,siteId:n,siteKey:a,subscriber:o,onClose:r,onConnect:c}){const[l,u]=(0,t.useState)(!1),[p,b]=(0,t.useState)(!1),[y,w]=(0,t.useState)(),[v,E]=(0,t.useState)(),[k,A]=(0,t.useState)(1),[_,z]=(0,t.useState)(0),[D,W]=(0,t.useState)(!1),[J,V]=(0,t.useState)(s),[ee,te]=(0,t.useState)(n),[ae,oe]=(0,t.useState)(a),[re,ce]=(0,t.useState)(o),[le,de]=(0,t.useState)(""),[be,fe]=(0,t.useState)("name"),[we]=(0,G.o)(le,200),Ee=(0,U.m)({mode:"uncontrolled",initialValues:{subscriptionType:"",siteId:"",name:"",domain:""},validate:(0,Q.s)(Ie)}),ke=(0,t.useCallback)((()=>(0,j.Jt)({apiName:"backendWithIam",path:"/account"}).response.then((e=>e.body.json())).then((e=>e)).catch((e=>{throw console.error("Error fetching workspaces:",e),e})).finally((()=>{u(!1)}))),[]),Ce=(0,t.useCallback)((({pageParam:e=null})=>(0,j.Jt)({apiName:"backend",path:`/account/${J}/site`,options:e?{queryParams:{limit:String(10),last_key:e,order:be,...we?{search:we}:{}}}:{queryParams:{limit:String(10),order:be,...we?{search:we}:{}}}}).response.then((e=>e.body.json())).then((e=>e)).catch((e=>{throw console.error("Error fetching sites:",e),e})).finally((()=>{u(!1)}))),[J,we,be]),{data:Pe,isPending:Ae,error:Te}=(0,i.I)({queryKey:["accounts"],queryFn:ke,enabled:"authenticated"===e}),{data:_e,isPending:Ne,error:ze,fetchNextPage:De,hasNextPage:Fe,isFetchingNextPage:We}=(0,je.q)({queryKey:["sites",J,we,be],queryFn:Ce,initialPageParam:null,getNextPageParam:e=>{var s;return null!==(s=e.lastKey)&&void 0!==s?s:void 0},select:e=>({pages:e.pages.filter((e=>e.list.length>0))}),enabled:!!J&&"authenticated"===e}),Oe=(0,t.useCallback)((e=>{e>_&&Fe?De().then((s=>{var n;A(Math.min(e,null!==(n=s?.data?.pages.length)&&void 0!==n?n:0))})):A(e)}),[De,Fe,_]),Ye=(0,xe.jE)(),$e=(0,ge.n)({mutationFn:async e=>{const s={name:e.name,domain:e.domain};return await(e.siteId&&""!==e.siteId.trim()?j.yJ({apiName:"backend",path:`/account/${J}/site/${e.siteId}`,options:{body:s}}):j.bE({apiName:"backend",path:`/account/${J}/site`,options:{body:s}})).response.then((e=>e.body.json())).then((e=>(X.$e.show({title:(0,d.__)("Site updated",x.TEXT_DOMAIN),message:(0,d.__)("Site updated successfully.",x.TEXT_DOMAIN),color:"green",icon:(0,ye.jsx)(H.A,{}),className:ve.notification}),e))).catch((e=>{console.error("Error:",e.message),X.$e.show({title:(0,d.__)("Error occured",x.TEXT_DOMAIN),message:e.message,color:"red",icon:(0,ye.jsx)(Z.A,{}),className:ve.notification})}))},onSuccess:()=>{Ye.invalidateQueries({queryKey:["sites",J]}),W(!1)},onError:e=>{X.$e.show({title:(0,d.__)("Error occured",x.TEXT_DOMAIN),message:e.message,color:"red",icon:(0,ye.jsx)(Z.A,{}),className:ve.notification})}}),Be=(0,ge.n)({mutationFn:async e=>{await j.yH({apiName:"backend",path:`/account/${J}/site/${e}`}).response},onMutate:async e=>{await Ye.cancelQueries({queryKey:["sites"]});const s=Ye.getQueryData(["sites"]);return Ye.setQueryData(["sites"],(s=>s?{...s,pages:s.pages.map((s=>({...s,list:s.list.filter((s=>s.siteId!==e))})))}:s)),{prev:s}},onSuccess:()=>{Ye.invalidateQueries({queryKey:["sites",J]}),ee===n&&(V(void 0),te(void 0),oe(void 0),ce(void 0))}});return(0,t.useEffect)((()=>{!J&&Pe?.length&&V(Pe[0].accountId)}),[J,Pe]),(0,t.useEffect)((()=>{var e;_e?.pages&&(w(null!==(e=_e.pages.flatMap((e=>e.list)))&&void 0!==e?e:[]),z(Math.max(_e.pages.length,1)))}),[_e]),(0,t.useEffect)((()=>{_>0&&k>_&&A(_)}),[k,_]),(0,t.useEffect)((()=>{const e=10*(k-1);E(y?.slice(e,e+10))}),[y,k]),(0,t.useEffect)((()=>{A(1)}),[we]),Ae?(0,ye.jsx)(Se,{}):(0,ye.jsxs)(ye.Fragment,{children:[Te?(0,ye.jsxs)(m.E,{c:"red",children:["Error: ",Te?.message]}):(0,ye.jsxs)(ye.Fragment,{children:[(Pe?.length>1||!Pe.find((e=>e.accountId===J)))&&(0,ye.jsx)(O.l,{label:"Select a workspace",description:"Select a workspace to manage sites",w:{base:"100%",xs:350},height:80,mb:"md",value:J,onChange:e=>{e&&(V(e),te(e===s?n:void 0),oe(e===s?a:void 0),ce(e===s?o:void 0),E(void 0),A(1),W(!1))},data:Pe.map((e=>({value:e.accountId,label:e.name}))),classNames:{dropdown:ve.dropdown}}),(0,ye.jsxs)(Y.s.Group,{label:"Select a site",description:"Select a site to connect this WordPress instance to",mb:"md",defaultValue:n+"|"+a+"|"+o,value:ee+"|"+ae+"|"+re,onChange:e=>{const s=e.split("|");te(s[0]),s.length>1&&oe(s[1]),s.length>2&&ce("true"===s[2])},children:[(0,ye.jsxs)(I.Y,{gap:"xs",mt:"xs",children:[(0,ye.jsx)($.I,{size:"xs",data:[{label:"Name",value:"name"},{label:"Domain",value:"domain"}],value:be,onChange:e=>fe(e)}),(0,ye.jsx)(B.k,{placeholder:"Filterâ€¦",size:"xs",value:le,onChange:e=>de(e.currentTarget.value)})]}),(0,ye.jsx)(g.E,{visible:We||!!J&&"authenticated"===e&&(Ne||l),mt:"md",mb:"md",children:(0,ye.jsxs)(h.B,{pt:"md",mb:"md",gap:"xs",children:[(0,ye.jsxs)(I.Y,{gap:"xs",style:{alignContent:"flex-start",overflowY:"auto"},children:[(!v?.length||0===v.length)&&!D&&(0,ye.jsxs)(h.B,{align:"center",gap:"md",py:"xl",mb:"lg",w:{base:"100%",xs:350},children:[(0,ye.jsx)(P.h,{order:4,children:"No Sites Found"}),(0,ye.jsx)(m.E,{c:"dimmed",size:"sm",ta:"center",children:"You haven't added any sites yet."}),(0,ye.jsx)(S.$,{variant:"gradient",size:"xs",leftSection:(0,ye.jsx)(ue.A,{size:16}),onClick:()=>{Ee.setValues({subscriptionType:"",siteId:"",name:"",domain:""}),W(!0)},children:"Add a new site"})]}),!D&&v?.map((e=>(0,ye.jsx)(Y.s.Card,{className:ve.radioCard,component:"div",p:"md",radius:"md",value:e.siteId+"|"+e.siteKey+"|"+(void 0!==e.subscription),disabled:D,children:(0,ye.jsxs)(I.Y,{wrap:"nowrap",align:"flex-start",children:[(0,ye.jsx)(Y.s.Indicator,{}),(0,ye.jsxs)(h.B,{gap:"xs",style:{flexGrow:1},children:[(0,ye.jsxs)(m.E,{component:"div",fw:700,lh:1.3,size:"md",c:"bright",children:[e.name,e.domain===location.hostname.split(":")[0]&&(0,ye.jsx)(F.E,{size:"xs",ml:"xs",variant:"light",children:"Current domain"})]}),(0,ye.jsxs)(m.E,{c:"dimmed",size:"xs",children:[e.domain," "]})]}),(0,ye.jsx)(K.m,{label:"Edit site",children:(0,ye.jsx)(N.M,{variant:"subtle",size:"xs","aria-label":"Edit site",onClick:s=>{s.stopPropagation(),Ee.setValues({subscriptionType:e.subscriptionType,siteId:e.siteId,name:e.name,domain:e.domain}),W(!0)},children:(0,ye.jsx)(he.A,{size:16})})}),(0,ye.jsx)(K.m,{label:void 0!==e.subscriptionType?"Cannot delete site with active subscription":"Delete site",children:(0,ye.jsx)(N.M,{variant:"subtle",size:"xs",color:"red","aria-label":void 0!==e.subscriptionType?"Cannot delete site with active subscription":"Delete site",disabled:void 0!==e.subscriptionType,onClick:s=>{s.stopPropagation(),L.jQ.openConfirmModal({children:(0,ye.jsxs)(ye.Fragment,{children:[(0,ye.jsxs)(f.D,{level:3,marginBottom:"var(--mantine-spacing-md)",children:["Delete ",e.name,"?"]})," ",(0,ye.jsx)(m.E,{mb:"sm",children:"This site does not have an active subscription, but it may still contain saved configuration settings from another WordPress instance."}),(0,ye.jsx)(m.E,{mb:"sm",children:"Deleting this site will permanently remove all saved settings, and this action cannot be undone."}),(0,ye.jsx)(m.E,{fw:500,children:"Are you sure you want to delete this site?"})]}),labels:{confirm:"Yes, Delete",cancel:"No"},confirmProps:{className:ve["console-button"]},cancelProps:{variant:"outline",className:ve["console-button-outline"]},withCloseButton:!1,onConfirm:()=>Be.mutate(e.siteId),zIndex:1e5,xOffset:"1dvh",yOffset:"1dvh",centered:!0})},children:(0,ye.jsx)(ie.A,{size:16})})})]})},e.siteId)))]}),!D&&(0,ye.jsx)(M.d,{classNames:{root:ve.pagination,control:ve["pagination-control"]},total:Fe?Math.max(_,k+1):_,value:k,onChange:Oe,mt:"md"}),D&&(0,ye.jsxs)(T.Z,{component:"form",withBorder:!0,w:{base:"100%",xs:350},onSubmit:Ee.onSubmit((e=>{$e.mutate({siteId:e.siteId,name:e.name,domain:e.domain})})),children:[(0,ye.jsx)(q.p,{visible:$e.isPending,zIndex:1e3,overlayProps:{radius:"md",blur:2}}),(0,ye.jsx)(R.s,{children:(0,ye.jsx)(B.k,{...Ee.getInputProps("siteId")},Ee.key("siteId"))}),(0,ye.jsx)(B.k,{label:"Site name",placeholder:"My WordPress site",required:!0,...Ee.getInputProps("name")},Ee.key("name")),(0,ye.jsx)(B.k,{label:"Licensed Domain",placeholder:"my-wordpress-site.com",required:!0,...Ee.getInputProps("domain")},Ee.key("domain")),(0,ye.jsxs)(I.Y,{justify:"space-between",mt:"md",children:[(0,ye.jsx)(S.$,{variant:"outline",size:"xs",leftSection:(0,ye.jsx)(me.A,{size:16}),onClick:()=>W(!1),children:"Cancel"}),(0,ye.jsx)(C.s,{gap:0,children:(0,ye.jsx)(S.$,{type:"submit",variant:"gradient",size:"xs",leftSection:(0,ye.jsx)(pe.A,{size:16}),children:"Save"})})]})]}),v&&(0,ye.jsx)(I.Y,{justify:"center",children:(0,ye.jsx)(S.$,{variant:"subtle",size:"xs",leftSection:(0,ye.jsx)(ue.A,{size:16}),onClick:()=>{Ee.setValues({subscriptionType:"",siteId:"",name:"",domain:""}),W(!0)},disabled:D,children:"Add a new site"})})]})})]})]}),(0,ye.jsxs)(I.Y,{justify:"space-between",children:[(0,ye.jsx)(S.$,{variant:"outline",onClick:r,leftSection:(0,ye.jsx)(ne.A,{size:16}),children:"Close"}),(0,ye.jsx)(S.$,{variant:"gradient",onClick:()=>{b(!0),c({accountId:J,siteId:ee,siteKey:ae,subscriber:re}).then((()=>{b(!1)}))},leftSection:(0,ye.jsx)(se.A,{size:16}),disabled:!!ze||D,loading:p,children:"Connect"})]})]})}const Ce=e=>((0,t.useEffect)((()=>{const e=document.createElement("script");e.src="https://js.stripe.com/v3/pricing-table.js",e.async=!0,document.head.appendChild(e)}),[]),(0,ye.jsx)(g.E,{visible:void 0===e.amplifyConfigured,width:"100%",mt:"md",children:(0,ye.jsx)(Ee,{...e})}));n(428);const Pe="dev.wpsuite.io"===window.location.host?"https://api.wpsuite.io/dev":"https://api.wpsuite.io",Ae="dev.wpsuite.io"===window.location.host?"https://wpsuite.io/static/config/dev.json":"https://wpsuite.io/static/config/prod.json",Te=e=>{const{nonce:s}=e,[n,g]=(0,t.useState)(),[j,b]=(0,t.useState)(WpSuite.siteSettings.accountId),[y,f]=(0,t.useState)(WpSuite.siteSettings.siteId),[w,v]=(0,t.useState)(WpSuite.siteSettings.siteKey),[E,S]=(0,t.useState)(),I=(0,p.U)(`(max-width: ${u.S.breakpoints.sm})`),{data:k,error:C}=(0,i.I)({queryKey:["config"],queryFn:async()=>{const e=await fetch(Ae).catch((e=>({ok:!0,statusText:e.message,json:async()=>({config:"prod",baseUrl:"https://wpsuite.io",userPoolId:"us-east-1_G0wEwK9tt",identityPoolId:"us-east-1:11e55c9a-b768-48a2-8a0c-c51f1e99c129",appClientPlugin:"5e6fs3pk1k1ju7cgpnp7o7si8u",awsRegion:"us-east-1",pricingTable:"prctbl_1QA6TQFjw5MDUzy6c3fBSPGL",stripePublicKey:"pk_live_51OVeJwFjw5MDUzy6pwTbsMjcBZjZioihzLAtxQsF91u4lYJC4mtqrJddSskhz6OPbWS0tr8XL2G1AwJaXEpv9Rgn008dAz5TEr",permissions:{owner:["transfer-account","manage-account","manage-sites","manage-subscriptions","manage-billing"],admin:["manage-account","manage-sites","manage-subscriptions","manage-billing"],accountant:["manage-billing"]}})})));if(!e.ok)throw new Error(e.statusText);return e.json()}}),P=(0,t.useCallback)((async()=>{try{var e;const s=await(0,r.$)(),n=null!==(e=s.tokens?.accessToken.payload.scope?.split(" "))&&void 0!==e?e:[];if(g(void 0),j&&!n.includes("sc.account.owner."+j)&&!n.includes("sc.account.admin."+j)){console.error("You do not have permission to access this resource. Please contact site owner.");const e=n.find((e=>e.startsWith("sc.account.owner.")||e.startsWith("sc.account.admin.")))?.split(".")[3];e&&g(e)}}catch(e){console.error(e),g(void 0)}}),[j]);return(0,t.useEffect)((()=>{if(!E)if(k?.userPoolId&&k?.appClientPlugin&&k?.identityPoolId){const e={Auth:{Cognito:{userPoolId:k.userPoolId,userPoolClientId:k.appClientPlugin,identityPoolId:k.identityPoolId}},API:{REST:{backend:{endpoint:Pe},backendWithIam:{endpoint:Pe}}}},s={API:{REST:{headers:async e=>{if("backend"===e.apiName)try{const e=await(0,r.$)();if(e?.tokens?.accessToken)return{Authorization:`Bearer ${e.tokens.accessToken}`}}catch(e){console.error(e)}return{}}}}};a.E.configure(e,s),P(),S(!0)}else C&&(console.error("Error loading configuration:",C),S(!1))}),[k,e,E,P,C]),(0,t.useEffect)((()=>{const e=o.YZ.listen("auth",(e=>{const{payload:s}=e;"signedIn"!==s.event&&"signedOut"!==s.event||P()}));return()=>{e()}}),[P]),void 0!==E&&(0,ye.jsx)(c.k.Provider,{children:(0,ye.jsxs)("div",{className:"j7QpPcqW2jckSg1DEubK",children:[(0,ye.jsxs)(h.B,{mb:"md",gap:4,children:[(0,ye.jsx)(l.__experimentalHeading,{level:1,style:{display:"flex",alignItems:"center",gap:"8px",color:"#218BE6"},children:(0,d.__)(I?"WPSuite.io HUB":"Central Hub for WPSuite.io Plugins",x.TEXT_DOMAIN)}),(0,ye.jsx)(m.E,{children:"Link this WordPress installation to your WP Suite workspace to enable licensing and shared features. You can disconnect or switch workspaces at any time without affecting your content."})]})," ",(0,ye.jsx)(Ce,{apiUrl:Pe,amplifyConfigured:E,nonce:s,stripePublicKey:k?.stripePublicKey,pricingTable:k?.pricingTable,accountId:j,ownedAccountId:null!=n?n:j,siteId:y,siteKey:w,setAccountId:b,setSiteId:f,setSiteKey:v})]})})}}}]);